# pytest.ini
# Pytest运行配置文件

[pytest]
# 测试文件命名规则
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 测试目录
testpaths = test_cases

# 命令行参数
addopts = 
    # 详细输出
    -v
    # 显示测试执行的详细信息
    -s
    # 失败时显示局部变量
    -l
    # 生成HTML报告
    --html=reports/html/report.html
    --self-contained-html
    # 生成Allure报告数据
    --alluredir=reports/allure-results
    # 并行执行(可选,需要安装pytest-xdist)
    # -n auto
    
# 日志配置
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# 标记定义
markers =
    smoke: 冒烟测试
    regression: 回归测试
    critical: 严重级别
    normal: 一般级别